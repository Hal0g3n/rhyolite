
function openNewTab(){chrome.tabs.create({});}
function openNewWindow(){chrome.windows.create({});}
function openHistory(){chrome.tabs.create({url:"chrome://history"});}
function openDownloads(){chrome.tabs.create({url:"chrome://downloads"});}
function openExtensions(){chrome.tabs.create({url:"chrome://extensions"});}
function openSettings(){chrome.tabs.create({url:"chrome://settings"});}
function openBookmarks(){chrome.tabs.create({url:"chrome://bookmarks"});}
function closeCurrentTab(){chrome.tabs.query({'active':true,'windowId':chrome.windows.WINDOW_ID_CURRENT},function(currentTab){currentTab=currentTab[0];chrome.tabs.remove(currentTab.id);});}
function reloadTab(){chrome.tabs.reload();window.close();}
function reloadAllTabs(){chrome.tabs.query({'windowId':chrome.windows.WINDOW_ID_CURRENT},function(allTabs){for(tab of allTabs){chrome.tabs.reload(tab.id);}
populateSuggestionsBox(suggestionList);});}
function reloadWithoutCache(){chrome.tabs.reload(reloadProperties={'bypassCache':true});window.close();}
function newIncognitoWindow(){chrome.windows.create({'incognito':true});}
function togglePin(){var isPinned;chrome.tabs.query(queryInfo={'active':true,'windowId':chrome.windows.WINDOW_ID_CURRENT},function(currentTab){isPinned=currentTab[0].pinned;chrome.tabs.update(updateProperties={'pinned':!isPinned});window.close();});}
function searchWiki(query){return function(){query=encodeURI(query);chrome.tabs.create({url:"http://en.wikipedia.org/wiki/"+query});}}
function searchYoutube(query){return function(){query=encodeURI(query);chrome.tabs.create({url:"https://www.youtube.com/results?search_query="+query});}}
function searchImdb(query){return function(){query=encodeURI(query);chrome.tabs.create({url:"http://www.imdb.com/find?s=all&q="+query});}}
function searchDictionary(query){return function(){query=encodeURI(query);chrome.tabs.create({url:"http://dictionary.reference.com/browse/"+query});}}
function triggerSearch(queryTriggerString){return function(){document.getElementById("command").value=queryTriggerString+" ";}}
function switchToTab(tabId){return function(){chrome.tabs.update(tabId,{'active':true});window.close();};}
function toggleMute(){var isMuted;chrome.tabs.query(queryInfo={'active':true,'windowId':chrome.windows.WINDOW_ID_CURRENT},function(currentTab){isMuted=currentTab[0].mutedInfo.muted;chrome.tabs.update(updateProperties={'muted':!isMuted});window.close();});}
function duplicateTab(){chrome.tabs.query({'active':true,'windowId':chrome.windows.WINDOW_ID_CURRENT},function(currentTab){currentTab=currentTab[0];chrome.tabs.duplicate(currentTab.id);});}
function closeOtherTabs(){chrome.tabs.query({'active':false,'windowId':chrome.windows.WINDOW_ID_CURRENT},function(otherTabs){var otherTabIds=[];for(tab of otherTabs){otherTabIds.push(tab.id);}
chrome.tabs.remove(otherTabIds);window.close();});}
function closeTabsToRight(){chrome.tabs.query({'active':false,'windowId':chrome.windows.WINDOW_ID_CURRENT},function(otherTabs){chrome.tabs.query({'active':true,'windowId':chrome.windows.WINDOW_ID_CURRENT},function(currentTab){currentTab=currentTab[0];var otherTabIds=[];for(tab of otherTabs){if(tab.index>currentTab.index){otherTabIds.push(tab.id);}}
chrome.tabs.remove(otherTabIds);window.close();});});}
function closeTabsToLeft(){chrome.tabs.query({'active':false,'windowId':chrome.windows.WINDOW_ID_CURRENT},function(otherTabs){chrome.tabs.query({'active':true,'windowId':chrome.windows.WINDOW_ID_CURRENT},function(currentTab){currentTab=currentTab[0];var otherTabIds=[];for(tab of otherTabs){if(tab.index<currentTab.index){otherTabIds.push(tab.id);}}
chrome.tabs.remove(otherTabIds);window.close();});});}
function moveTabToStart(){chrome.tabs.query({'active':true,'windowId':chrome.windows.WINDOW_ID_CURRENT},function(currentTab){currentTab=currentTab[0];chrome.tabs.move(currentTab.id,{index:0});window.close();});}
function moveTabToEnd(){chrome.tabs.query({'active':true,'windowId':chrome.windows.WINDOW_ID_CURRENT},function(currentTab){currentTab=currentTab[0];chrome.tabs.move(currentTab.id,{index:-1});window.close();});}
function moveTabLeft(){chrome.tabs.query({'active':true,'windowId':chrome.windows.WINDOW_ID_CURRENT},function(currentTab){currentTab=currentTab[0];chrome.tabs.move(currentTab.id,{index:currentTab.index-1});window.close();});}
function moveTabRight(){chrome.tabs.query({'active':true,'windowId':chrome.windows.WINDOW_ID_CURRENT},function(currentTab){currentTab=currentTab[0];chrome.tabs.move(currentTab.id,{index:currentTab.index+1});window.close();});}
var defaultSugestions=[{"text":"New Tab","action":openNewTab},{"text":"New Window","action":openNewWindow},{"text":"Show History","action":openHistory},{"text":"Show Downloads","action":openDownloads},{"text":"Show Extensions","action":openExtensions},{"text":"Show Bookmarks","action":openBookmarks},{"text":"Show Settings","action":openSettings},{"text":"Close Current Tab","action":closeCurrentTab},{"text":"Reload Tab","action":reloadTab},{"text":"Reload All Tabs","action":reloadAllTabs},{"text":"Clear Cache and Reload Tab","action":reloadWithoutCache},{"text":"Toggle Pin","action":togglePin},{"text":"Duplicate Tab","action":duplicateTab},{"text":"New Incognito Window","action":newIncognitoWindow},{"text":"Close Other Tabs","action":closeOtherTabs},{"text":"Close Tabs To Right","action":closeTabsToRight,"keyword":"right"},{"text":"Close Tabs To Left","action":closeTabsToLeft,"keyword":"left"},{"text":"Mute/Unmute Tab","action":toggleMute},{"text":"Define in Dictionary.com","action":triggerSearch("def")},{"text":"Search YouTube","action":triggerSearch("yt")},{"text":"Search Wikipedia","action":triggerSearch("wiki")},{"text":"Search IMDB","action":triggerSearch("imdb")},{"text":"Move Tab To Start","action":moveTabToStart,"keyword":"move start"},{"text":"Move Tab To End","action":moveTabToEnd,"keyword":'move end'},{"text":"Move Tab Left","action":moveTabLeft,"keyword":'move left'},{"text":"Move Tab Right","action":moveTabRight,"keyword":'move right'}];
var highlightedSuggestion;var suggestionList;function populateSuggestionList(){chrome.tabs.query({'windowId':chrome.windows.WINDOW_ID_CURRENT},function(allTabs){suggestionList=defaultSugestions;for(tab of allTabs){var tabAction={"text":"Switch to: "+tab.title,"action":switchToTab(tab.id)};suggestionList.push(tabAction);}
chrome.storage.local.get('userCommandJSON',function(items){var existingUserCommands=items.userCommandJSON;if(existingUserCommands!=undefined&&existingUserCommands!=[]){for(userCommand of existingUserCommands){userCommand=eval('('+userCommand+')');suggestionList.push(userCommand);}}});populateSuggestionsBox(suggestionList);});}
function escapeHtml(unsafe){return unsafe.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;");}
function processSearchQuery(queryList,searchDomain,searchFunction){var searchQuery="";var queryListLength=queryList.length;for(var i=1;i<queryList.length;i++){searchQuery+=queryList[i];if(queryListLength>2)searchQuery+=" ";}
var tabAction={"searchDomain":searchDomain,"text":searchDomain+" Search Query: "+searchQuery,"action":searchFunction(searchQuery)};for(var i=0;i<suggestionList.length;i++){if(suggestionList[i].searchDomain==searchDomain){suggestionList.splice(i,1);}}
suggestionList.unshift(tabAction);}
function populateSearchSuggestions(query){var queryList=query.split(" ");if(queryList[0].toLowerCase()=="wiki"||queryList[0].toLowerCase()=="wikipedia"){processSearchQuery(queryList,"Wikipedia",searchWiki);}
else if(queryList[0].toLowerCase()=="youtube"||queryList[0].toLowerCase()=="yt"){processSearchQuery(queryList,"YouTube",searchYoutube);}
else if(queryList[0].toLowerCase()=="imdb"){processSearchQuery(queryList,"IMDB",searchImdb);}
else if(queryList[0].toLowerCase()=="def"||queryList[0].toLowerCase()=="define"||queryList[0].toLowerCase()=="dictionary"){processSearchQuery(queryList,"Define in Dictionary.com",searchDictionary);}}
function reScroll(){try{scrollElement=highlightedSuggestion.previousSibling.previousSibling;scrollElement.scrollIntoView(alignToTop=true);}
catch(err){}}
function changeHighlighted(newHighlighted){highlightedSuggestion.id="";highlightedSuggestion=newHighlighted;highlightedSuggestion.id="highlighted";}
function handleKeydown(e){var keynum=e.which;if(keynum==40){e.preventDefault();var newSuggestion=highlightedSuggestion.nextSibling;if(!newSuggestion){var allSuggestions=document.getElementsByClassName("suggestion");newSuggestion=allSuggestions[allSuggestions.length-1]}
changeHighlighted(newSuggestion);reScroll();return false;}
else if(keynum==38){e.preventDefault();newSuggestion=highlightedSuggestion.previousSibling;if(!newSuggestion){newSuggestion=document.getElementsByClassName("suggestion")[0];}
changeHighlighted(newSuggestion);reScroll();return false;}
else if(keynum==13){highlightedSuggestion.click();}}
function handleMouseover(e){changeHighlighted(e.srcElement);}
function populateSuggestionsBox(suggestionList){var suggestionDiv=document.getElementById('suggestions');suggestionDiv.innerHTML="";for(suggestion of suggestionList){var suggestionTag=document.createElement("li");suggestionTag.className="suggestion";suggestionTag.innerHTML=escapeHtml(suggestion.text);suggestionTag.onclick=suggestion.action;suggestionTag.onmouseover=handleMouseover;suggestionDiv.appendChild(suggestionTag);}
highlightedSuggestion=document.getElementsByClassName("suggestion")[0];if(highlightedSuggestion){highlightedSuggestion.id="highlighted";}}
function fuzzySearch(){var options={keys:['text','keyword']}
var searchString=document.getElementById("command").value;if(searchString==""){populateSuggestionList();}
else{populateSearchSuggestions(searchString);var fuzz=new Fuse(suggestionList,options);var fuzzResult=fuzz.search(searchString);populateSuggestionsBox(fuzzResult);delete fuzz;}}
function initCommander(){populateSuggestionList();document.getElementById("command").oninput=fuzzySearch;document.onkeydown=handleKeydown;}
document.addEventListener('DOMContentLoaded',initCommander,false);
!function(t){function e(t,n){this.list=t,this.options=n=n||{};var i,o,s,r;for(i=0,r=["sort","shouldSort"],o=r.length;o>i;i++)s=r[i],this.options[s]=s in n?n[s]:e.defaultOptions[s];for(i=0,r=["searchFn","sortFn","keys","getFn","include"],o=r.length;o>i;i++)s=r[i],this.options[s]=n[s]||e.defaultOptions[s]}var n=function(t,e){if(e=e||{},this.options=e,this.options.location=e.location||n.defaultOptions.location,this.options.distance="distance"in e?e.distance:n.defaultOptions.distance,this.options.threshold="threshold"in e?e.threshold:n.defaultOptions.threshold,this.options.maxPatternLength=e.maxPatternLength||n.defaultOptions.maxPatternLength,this.pattern=e.caseSensitive?t:t.toLowerCase(),this.patternLen=t.length,this.patternLen>this.options.maxPatternLength)throw new Error("Pattern length is too long");this.matchmask=1<<this.patternLen-1,this.patternAlphabet=this._calculatePatternAlphabet()};n.defaultOptions={location:0,distance:100,threshold:.6,maxPatternLength:32},n.prototype._calculatePatternAlphabet=function(){var t={},e=0;for(e=0;e<this.patternLen;e++)t[this.pattern.charAt(e)]=0;for(e=0;e<this.patternLen;e++)t[this.pattern.charAt(e)]|=1<<this.pattern.length-e-1;return t},n.prototype._bitapScore=function(t,e){var n=t/this.patternLen,i=Math.abs(this.options.location-e);return this.options.distance?n+i/this.options.distance:i?1:n},n.prototype.search=function(t){if(t=this.options.caseSensitive?t:t.toLowerCase(),this.pattern===t)return{isMatch:!0,score:0};var e,n,i,o,s,r,a,h,p,c=t.length,l=this.options.location,f=this.options.threshold,u=t.indexOf(this.pattern,l),d=this.patternLen+c,g=1,m=[];for(-1!=u&&(f=Math.min(this._bitapScore(0,u),f),u=t.lastIndexOf(this.pattern,l+this.patternLen),-1!=u&&(f=Math.min(this._bitapScore(0,u),f))),u=-1,e=0;e<this.patternLen;e++){for(i=0,o=d;o>i;)this._bitapScore(e,l+o)<=f?i=o:d=o,o=Math.floor((d-i)/2+i);for(d=o,s=Math.max(1,l-o+1),r=Math.min(l+o,c)+this.patternLen,a=Array(r+2),a[r+1]=(1<<e)-1,n=r;n>=s;n--)if(p=this.patternAlphabet[t.charAt(n-1)],a[n]=0===e?(a[n+1]<<1|1)&p:(a[n+1]<<1|1)&p|((h[n+1]|h[n])<<1|1)|h[n+1],a[n]&this.matchmask&&(g=this._bitapScore(e,n-1),f>=g)){if(f=g,u=n-1,m.push(u),!(u>l))break;s=Math.max(1,2*l-u)}if(this._bitapScore(e+1,l)>f)break;h=a}return{isMatch:u>=0,score:g}};var i=function(t,e,n){var s,r,a;if(e){a=e.indexOf("."),-1!==a?(s=e.slice(0,a),r=e.slice(a+1)):s=e;var h=t[s];if(h)if(r||"string"!=typeof h&&"number"!=typeof h)if(o.isArray(h))for(var p=0,c=h.length;c>p;p++)i(h[p],r,n);else r&&i(h,r,n);else n.push(h)}else n.push(t);return n},o={deepValue:function(t,e){return i(t,e,[])},isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)}};e.defaultOptions={id:null,caseSensitive:!1,include:[],shouldSort:!0,searchFn:n,sortFn:function(t,e){return t.score-e.score},getFn:o.deepValue,keys:[]},e.prototype.set=function(t){return this.list=t,t},e.prototype.search=function(t){var e,n,i,s,r=new this.options.searchFn(t,this.options),a=this.list,h=a.length,p=this.options,c=this.options.keys,l=c.length,f=[],u={},d=[],g=function(t,e,n){if(void 0!==t&&null!==t)if("string"==typeof t)i=r.search(t),i.isMatch&&(s=u[n],s?s.score=Math.min(s.score,i.score):(u[n]={item:e,score:i.score},f.push(u[n])));else if(o.isArray(t))for(var a=0;a<t.length;a++)g(t[a],e,n)};if("string"==typeof a[0])for(var m=0;h>m;m++)g(a[m],m,m);else for(var m=0;h>m;m++)for(n=a[m],e=0;l>e;e++)g(p.getFn(n,c[e]),n,m);p.shouldSort&&f.sort(p.sortFn);for(var v=p.id?function(t){f[t].item=p.getFn(f[t].item,p.id)[0]}:function(){},y=function(t){var e;if(p.include.length>0){e={item:f[t].item};for(var t=0;t<p.include.length;t++){var n=p.include[t];e[n]=f[t][n]}}else e=f[t].item;return e},m=0,b=f.length;b>m;m++)v(m),d.push(y(m));return d},"object"==typeof exports?module.exports=e:"function"==typeof define&&define.amd?define(function(){return e}):t.Fuse=e}(this);
//@ sourceMappingURL=built.min.js.map